{"ast":null,"code":"class MoviesApi {\n  constructor(_ref) {\n    let {\n      url,\n      headers\n    } = _ref;\n    this._url = url;\n    this._headers = headers;\n  }\n\n  _isResOk(res) {\n    console.log(res);\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getBeatMovies() {\n    return fetch(`${this._url}/`, {\n      headers: this._headers\n    }).then(this._isResOk);\n  }\n\n}\n\nconst token = localStorage.getItem('jwt');\nconst moviesApi = new MoviesApi({\n  url: 'https://api.nomoreparties.co/beatfilm-movies',\n  headers: {\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\",\n    Authorization: `Bearer ${token}`\n  }\n});\nexport default moviesApi;","map":{"version":3,"names":["MoviesApi","constructor","url","headers","_url","_headers","_isResOk","res","console","log","ok","json","Promise","reject","status","getBeatMovies","fetch","then","token","localStorage","getItem","moviesApi","Accept","Authorization"],"sources":["D:/projects/movies-explorer-frontend/src/utils/MoviesApi.js"],"sourcesContent":["class MoviesApi {\r\n    constructor({ url, headers }) {\r\n        this._url = url;\r\n        this._headers = headers;\r\n    }\r\n\r\n    _isResOk(res) {\r\n        console.log(res)\r\n        return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\r\n    }\r\n\r\n    getBeatMovies() {\r\n        return fetch( `${this._url}/`, {\r\n            headers: this._headers,\r\n        }).then(this._isResOk);\r\n    }\r\n}\r\n\r\nconst token = localStorage.getItem('jwt');\r\n\r\nconst moviesApi = new MoviesApi({\r\n    url: 'https://api.nomoreparties.co/beatfilm-movies',\r\n    headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n    },\r\n});\r\n\r\nexport default moviesApi;"],"mappings":"AAAA,MAAMA,SAAN,CAAgB;EACZC,WAAW,OAAmB;IAAA,IAAlB;MAAEC,GAAF;MAAOC;IAAP,CAAkB;IAC1B,KAAKC,IAAL,GAAYF,GAAZ;IACA,KAAKG,QAAL,GAAgBF,OAAhB;EACH;;EAEDG,QAAQ,CAACC,GAAD,EAAM;IACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACA,OAAOA,GAAG,CAACG,EAAJ,GAASH,GAAG,CAACI,IAAJ,EAAT,GAAsBC,OAAO,CAACC,MAAR,CAAgB,WAAUN,GAAG,CAACO,MAAO,EAArC,CAA7B;EACH;;EAEDC,aAAa,GAAG;IACZ,OAAOC,KAAK,CAAG,GAAE,KAAKZ,IAAK,GAAf,EAAmB;MAC3BD,OAAO,EAAE,KAAKE;IADa,CAAnB,CAAL,CAEJY,IAFI,CAEC,KAAKX,QAFN,CAAP;EAGH;;AAfW;;AAkBhB,MAAMY,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAd;AAEA,MAAMC,SAAS,GAAG,IAAIrB,SAAJ,CAAc;EAC5BE,GAAG,EAAE,8CADuB;EAE5BC,OAAO,EAAE;IACLmB,MAAM,EAAE,kBADH;IAEL,gBAAgB,kBAFX;IAGLC,aAAa,EAAG,UAASL,KAAM;EAH1B;AAFmB,CAAd,CAAlB;AASA,eAAeG,SAAf"},"metadata":{},"sourceType":"module"}