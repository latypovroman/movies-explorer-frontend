{"ast":null,"code":"class MainApi {\n  constructor(_ref) {\n    let {\n      url,\n      headers\n    } = _ref;\n    this._url = url;\n    this._headers = headers;\n  }\n\n  _isResOk(res) {\n    console.log(res);\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  addMovie(data) {\n    console.log(data);\n    const {\n      country,\n      director,\n      duration,\n      year,\n      description,\n      image,\n      trailerLink,\n      thumbnail,\n      nameRU,\n      nameEN,\n      movieId\n    } = data;\n    return fetch(`${this._url}/movies/`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        country,\n        director,\n        duration,\n        year,\n        description,\n        image: image.url,\n        trailerLink,\n        nameRU,\n        nameEN,\n        thumbnail: image.formats.thumbnail.url,\n        movieId\n      })\n    }).then(this._isResOk);\n  }\n\n}\n\nconst mainApi = new MainApi({\n  url: \"https://api.movies.app.nomoredomains.xyz\",\n  headers: {\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\",\n    authorization: \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MmIyMmI0NDQyYjNkYzRiZjAyZmUxNjgiLCJpYXQiOjE2NTczMTE0MDEsImV4cCI6MTY1NzkxNjIwMX0.hC1hAxxVLsZfwyI3E4CKagtNoF4Nkn1efFdxODvuntA\"\n  }\n});\nexport default mainApi;","map":{"version":3,"names":["MainApi","constructor","url","headers","_url","_headers","_isResOk","res","console","log","ok","json","Promise","reject","status","addMovie","data","country","director","duration","year","description","image","trailerLink","thumbnail","nameRU","nameEN","movieId","fetch","method","body","JSON","stringify","formats","then","mainApi","Accept","authorization"],"sources":["D:/projects/movies-explorer-frontend/src/utils/MainApi.js"],"sourcesContent":["class MainApi {\r\n    constructor({ url, headers }) {\r\n        this._url = url;\r\n        this._headers = headers;\r\n    }\r\n\r\n    _isResOk(res) {\r\n        console.log(res)\r\n        return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n\r\n    addMovie(data) {\r\n        console.log(data);\r\n        const {\r\n            country,\r\n            director,\r\n            duration,\r\n            year,\r\n            description,\r\n            image,\r\n            trailerLink,\r\n            thumbnail,\r\n            nameRU,\r\n            nameEN,\r\n            movieId\r\n        } = data;\r\n        return fetch(`${this._url}/movies/`, {\r\n            method: \"POST\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                country,\r\n                director,\r\n                duration,\r\n                year,\r\n                description,\r\n                image: image.url,\r\n                trailerLink,\r\n                nameRU,\r\n                nameEN,\r\n                thumbnail: image.formats.thumbnail.url,\r\n                movieId,\r\n            })\r\n        }).then(this._isResOk);\r\n    }\r\n}\r\n\r\nconst mainApi = new MainApi({\r\n    url: \"https://api.movies.app.nomoredomains.xyz\",\r\n    headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        authorization: \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MmIyMmI0NDQyYjNkYzRiZjAyZmUxNjgiLCJpYXQiOjE2NTczMTE0MDEsImV4cCI6MTY1NzkxNjIwMX0.hC1hAxxVLsZfwyI3E4CKagtNoF4Nkn1efFdxODvuntA\",\r\n    },\r\n});\r\n\r\nexport default mainApi;"],"mappings":"AAAA,MAAMA,OAAN,CAAc;EACVC,WAAW,OAAmB;IAAA,IAAlB;MAAEC,GAAF;MAAOC;IAAP,CAAkB;IAC1B,KAAKC,IAAL,GAAYF,GAAZ;IACA,KAAKG,QAAL,GAAgBF,OAAhB;EACH;;EAEDG,QAAQ,CAACC,GAAD,EAAM;IACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACA,OAAOA,GAAG,CAACG,EAAJ,GAASH,GAAG,CAACI,IAAJ,EAAT,GAAsBC,OAAO,CAACC,MAAR,CAAgB,WAAUN,GAAG,CAACO,MAAO,EAArC,CAA7B;EACH;;EAEDC,QAAQ,CAACC,IAAD,EAAO;IACXR,OAAO,CAACC,GAAR,CAAYO,IAAZ;IACA,MAAM;MACFC,OADE;MAEFC,QAFE;MAGFC,QAHE;MAIFC,IAJE;MAKFC,WALE;MAMFC,KANE;MAOFC,WAPE;MAQFC,SARE;MASFC,MATE;MAUFC,MAVE;MAWFC;IAXE,IAYFX,IAZJ;IAaA,OAAOY,KAAK,CAAE,GAAE,KAAKxB,IAAK,UAAd,EAAyB;MACjCyB,MAAM,EAAE,MADyB;MAEjC1B,OAAO,EAAE,KAAKE,QAFmB;MAGjCyB,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACjBf,OADiB;QAEjBC,QAFiB;QAGjBC,QAHiB;QAIjBC,IAJiB;QAKjBC,WALiB;QAMjBC,KAAK,EAAEA,KAAK,CAACpB,GANI;QAOjBqB,WAPiB;QAQjBE,MARiB;QASjBC,MATiB;QAUjBF,SAAS,EAAEF,KAAK,CAACW,OAAN,CAAcT,SAAd,CAAwBtB,GAVlB;QAWjByB;MAXiB,CAAf;IAH2B,CAAzB,CAAL,CAgBJO,IAhBI,CAgBC,KAAK5B,QAhBN,CAAP;EAiBH;;AA3CS;;AA8Cd,MAAM6B,OAAO,GAAG,IAAInC,OAAJ,CAAY;EACxBE,GAAG,EAAE,0CADmB;EAExBC,OAAO,EAAE;IACLiC,MAAM,EAAE,kBADH;IAEL,gBAAgB,kBAFX;IAGLC,aAAa,EAAE;EAHV;AAFe,CAAZ,CAAhB;AASA,eAAeF,OAAf"},"metadata":{},"sourceType":"module"}